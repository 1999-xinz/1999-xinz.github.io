---
title: MVC三层架构
published: 2024-07-16
description: 'MVC三层架构的认识和理解'
image: ''
tags: [后端]
category: '后端'
draft: false
---
# MVC三层架构

**MVC（Model-View-Controller）是一种经典的软件架构模式，通过将应用程序分成三个主要部分来实现分离关注点：模型（Model）、视图（View）和控制器（Controller）。**

**在三层架构中，通常会加入数据访问层（Data Access Layer），业务逻辑层（Business Logic Layer），和表示层（Presentation Layer）。**

**另外，在多数WEB后端架构中会引入中间件（Middleware），是在处理请求和响应的过程中扮演重要角色。**

> **MVC是软件架构，是一个概念；三层架构则是在MVC基础上，细分后的产物，细致的对应业务块。**

## 1-三层架构

1、**表示层（Presentation Layer）**：

* **包含UI组件和视图逻辑。**
* **通常对应MVC架构中的视图。**

2、**业务逻辑层（Business Logic Layer）**：

* **处理具体的业务规则和逻辑。**
* **在MVC架构中，可以与控制器或模型部分结合。**
* **执行应用程序的核心功能。**

3、**数据访问层（Data Access Layer）**：

* **负责与数据库或其他数据存储交互。**
* **包含数据库操作的具体实现细节。**

## 2-中间件（Middleware）

**中间件是在客户端请求和服务器响应之间处理逻辑的组件。中间件可以有多种类型，用于处理不同的任务：**

1、**认证中间件**：

* **处理用户身份验证和授权。**
* **确保用户有权访问某些资源。**

2、**日志中间件**：

* **记录应用程序的运行日志。**
* **监控和调试应用程序。**

3、**缓存中间件**：

* **缓存频繁访问的数据。**
* **提高应用程序的性能。**

4、**错误处理中间件**：

* **捕获和处理应用程序中的错误。**
* **提供友好的错误消息和日志记录。**

## 3-高层架构示例

```
客户端（Client）
   |
表示层（Presentation Layer）/ 视图（View）
   |
业务逻辑层（Business Logic Layer）/ 控制器（Controller）
   |
中间件（Middleware）
   |
数据访问层（Data Access Layer）/ 模型（Model）
   |
数据库（Database）
```

**流程解说：**

1、**客户端发出请求**：

* **用户通过UI（表示层）与应用交互，发出请求。**

2、**表示层处理请求**：

* **表示层将请求转发给控制器（业务逻辑层）。**

3、**控制器处理业务逻辑**：

* **控制器调用相应的模型，进行数据处理。**
* **调用业务逻辑层中的业务规则处理。**

4、**中间件处理请求**：

* **在请求和响应过程中，中间件可以执行日志记录、认证、缓存等操作。**

5、**数据访问层与数据库交互**：

* **模型通过数据访问层与数据库进行交互，获取或保存数据。**

6、**返回响应**：

* **数据处理完成后，控制器将结果返回给视图。**
* **视图将结果展示给用户。**

> **通过这种分层和中间件的结合，应用程序不仅结构清晰、维护方便，而且扩展性和可复用性大大提高。中间件的引入更是增强了应用程序在处理复杂请求时的灵活性和可管理性。**
